{"language":"js","modules":[],"flowchart":{"_nodes":[{"portCounter":2,"inputPortCounter":0,"outputPortCounter":0,"_version":1,"_inputs":[],"_outputs":[{"_selected":false,"_disabled":false,"_connected":true,"_isFunction":false,"_id":"9a453508-4d9b-f1f8-5aa2-712a6b0750d5","_name":"base_grid","_type":"3"}],"_procedure":[{"_disabled":false,"_printToConsole":false,"children":[],"_type":"Data","_level":0,"hasChildren":false,"_error":false,"_leftComponent":{"expression":"features","isAction":false},"_rightComponent":{"expression":"base_map.features","isAction":false}},{"_disabled":false,"_printToConsole":false,"children":[],"_type":"Data","_level":0,"hasChildren":false,"_error":false,"_leftComponent":{"expression":"polygon_list","isAction":false},"_rightComponent":{"expression":"[]","isAction":false}},{"_disabled":false,"_printToConsole":false,"children":[{"_disabled":false,"_printToConsole":false,"children":[],"_type":"Action","_level":1,"hasChildren":false,"_error":false,"_rightComponent":{"expression":"Convert.flatten","isAction":true,"module":"Convert","fn_name":"flatten","params":[{"type":"t","value":"feature"}]},"_parent":"~flowchart~_nodes~0~_procedure~2","_leftComponent":{"expression":"flatten_obj","isAction":false}},{"_disabled":false,"_printToConsole":false,"children":[],"_type":"Data","_level":1,"hasChildren":false,"_error":false,"_leftComponent":{"expression":"flatten_list","isAction":false},"_rightComponent":{"expression":"flatten_obj.features","isAction":false},"_parent":"~flowchart~_nodes~0~_procedure~2"},{"_disabled":false,"_printToConsole":false,"children":[],"_type":"Action","_level":1,"hasChildren":false,"_error":false,"_rightComponent":{"expression":"List.extend","isAction":true,"module":"List","fn_name":"extend","params":[{"type":"list","value":"polygon_list"},{"type":"items","value":"flatten_list"}]},"_parent":"~flowchart~_nodes~0~_procedure~2","_leftComponent":{"expression":"polygon_list","isAction":false}}],"_type":"For Loop","_level":0,"hasChildren":true,"_error":false,"_leftComponent":{"expression":"feature","isAction":false},"_rightComponent":{"expression":"features","isAction":false}},{"_disabled":false,"_printToConsole":false,"children":[],"_type":"Data","_level":0,"hasChildren":false,"_error":false,"_leftComponent":{"expression":"grid_list","isAction":false},"_rightComponent":{"expression":"[]","isAction":false}},{"_disabled":false,"_printToConsole":false,"children":[{"_disabled":false,"_printToConsole":false,"children":[],"_type":"Action","_level":1,"hasChildren":false,"_error":false,"_rightComponent":{"expression":"Measure.bbox","isAction":true,"module":"Measure","fn_name":"bbox","params":[{"type":"t","value":"poly"}]},"_parent":"~flowchart~_nodes~0~_procedure~4","_leftComponent":{"expression":"bbox","isAction":false}},{"_disabled":false,"_printToConsole":false,"children":[],"_type":"Action","_level":1,"hasChildren":false,"_error":false,"_rightComponent":{"expression":"Grids.squareGrid","isAction":true,"module":"Grids","fn_name":"squareGrid","params":[{"type":"t","value":"bbox"},{"type":"e","value":"0.5"},{"type":"n","value":"undefined"}]},"_parent":"~flowchart~_nodes~0~_procedure~4","_leftComponent":{"expression":"grid_coll","isAction":false}},{"_disabled":false,"_printToConsole":false,"children":[],"_type":"Data","_level":1,"hasChildren":false,"_error":false,"_leftComponent":{"expression":"grids","isAction":false},"_rightComponent":{"expression":"grid_coll.features","isAction":false},"_parent":"~flowchart~_nodes~0~_procedure~4"},{"_disabled":false,"_printToConsole":false,"children":[{"_disabled":false,"_printToConsole":false,"children":[],"_type":"Action","_level":2,"hasChildren":false,"_error":false,"_rightComponent":{"expression":"Bool.within","isAction":true,"module":"Bool","fn_name":"within","params":[{"type":"t","value":"g"},{"type":"e","value":"poly"}]},"_parent":"~flowchart~_nodes~0~_procedure~4~children~3","_leftComponent":{"expression":"is_inside","isAction":false}},{"_disabled":false,"_printToConsole":false,"children":[],"_type":"Action","_level":2,"hasChildren":false,"_error":false,"_rightComponent":{"expression":"Bool.overlap","isAction":true,"module":"Bool","fn_name":"overlap","params":[{"type":"t","value":"g"},{"type":"e","value":"poly"}]},"_parent":"~flowchart~_nodes~0~_procedure~4~children~3","_leftComponent":{"expression":"overlap","isAction":false}},{"_disabled":true,"_printToConsole":false,"children":[],"_type":"Action","_level":2,"hasChildren":false,"_error":false,"_rightComponent":{"expression":"Xform.intersect","isAction":true,"module":"Xform","fn_name":"intersect","params":[{"type":"t","value":"g"},{"type":"n","value":"poly"}]},"_parent":"~flowchart~_nodes~0~_procedure~4~children~3","_leftComponent":{"expression":"intx","isAction":false}},{"_disabled":false,"_printToConsole":false,"children":[{"_disabled":false,"_printToConsole":false,"children":[{"_disabled":false,"_printToConsole":false,"children":[],"_type":"Action","_level":4,"hasChildren":false,"_error":false,"_rightComponent":{"expression":"List.append","isAction":true,"module":"List","fn_name":"append","params":[{"type":"list","value":"grid_list"},{"type":"item","value":"g"}]},"_parent":"~flowchart~_nodes~0~_procedure~4~children~3~children~3~children~0","_leftComponent":{"expression":"grid_list","isAction":false}}],"_type":"If","_level":3,"hasChildren":true,"_error":false,"_leftComponent":{"expression":"overlap==true||is_inside==true","isAction":false},"_parent":"~flowchart~_nodes~0~_procedure~4~children~3~children~3"},{"_disabled":false,"_printToConsole":false,"children":[],"_type":"Else","_level":3,"hasChildren":true,"_error":false,"_parent":"~flowchart~_nodes~0~_procedure~4~children~3~children~3"}],"_type":"IfElse","_level":2,"hasChildren":true,"_error":false,"virtual":true,"_parent":"~flowchart~_nodes~0~_procedure~4~children~3"}],"_type":"For Loop","_level":1,"hasChildren":true,"_error":false,"_leftComponent":{"expression":"g","isAction":false},"_rightComponent":{"expression":"grids","isAction":false},"_parent":"~flowchart~_nodes~0~_procedure~4"}],"_type":"For Loop","_level":0,"hasChildren":true,"_error":false,"_leftComponent":{"expression":"poly","isAction":false},"_rightComponent":{"expression":"polygon_list","isAction":false}},{"_disabled":false,"_printToConsole":false,"children":[],"_type":"Action","_level":0,"hasChildren":false,"_error":false,"_rightComponent":{"expression":"List.len","isAction":true,"module":"List","fn_name":"len","params":[{"type":"list","value":"grid_list"}]},"_leftComponent":{"expression":"ngrids","isAction":false}},{"_disabled":false,"_printToConsole":false,"children":[],"_type":"Action","_level":0,"hasChildren":false,"_error":false,"_rightComponent":{"expression":"Create.featureCollection","isAction":true,"module":"Create","fn_name":"featureCollection","params":[{"type":"t","value":"grid_list"},{"type":"e","value":"undefined"}]},"_leftComponent":{"expression":"grid_coll","isAction":false}},{"_disabled":false,"_printToConsole":false,"children":[],"_type":"Data","_level":0,"hasChildren":false,"_error":false,"_leftComponent":{"expression":"base_grid","isAction":false},"_rightComponent":{"expression":"grid_coll","isAction":false}}],"_hasExecuted":false,"_isDisabled":false,"_hasError":false,"_dependencies":[],"_dependencyNodes":[],"position":[45.666666666666664,64.63636363636364],"_id":"4a69cbdf-157a-8236-ae24-0b422c9ced6a","_name":"grid_the_base"},{"portCounter":3,"inputPortCounter":0,"outputPortCounter":0,"_version":1,"_inputs":[{"_selected":false,"_disabled":false,"_connected":true,"_computed":{"port":[0,0]},"_isFunction":false,"_id":"4f537491-4c40-71aa-d854-87cedaf14046","_name":"grids","_type":"Input"}],"_outputs":[{"_selected":false,"_disabled":false,"_connected":false,"_isFunction":false,"_id":"06b54afc-02c3-1db1-a72b-9ffe726ae285","_name":"park_prox_grid","_type":"4"}],"_procedure":[{"_disabled":false,"_printToConsole":false,"children":[],"_type":"Data","_level":0,"hasChildren":false,"_error":false,"_leftComponent":{"expression":"grid_list","isAction":false},"_rightComponent":{"expression":"grids.features","isAction":false}},{"_disabled":false,"_printToConsole":false,"children":[],"_type":"Data","_level":0,"hasChildren":false,"_error":false,"_leftComponent":{"expression":"park_list","isAction":false},"_rightComponent":{"expression":"park_map.features","isAction":false}},{"_disabled":false,"_printToConsole":false,"children":[],"_type":"Data","_level":0,"hasChildren":false,"_error":false,"_leftComponent":{"expression":"poly_list","isAction":false},"_rightComponent":{"expression":"[]","isAction":false}},{"_disabled":false,"_printToConsole":false,"children":[{"_disabled":false,"_printToConsole":false,"children":[],"_type":"Action","_level":1,"hasChildren":false,"_error":false,"_rightComponent":{"expression":"Measure.centroid","isAction":true,"module":"Measure","fn_name":"centroid","params":[{"type":"t","value":"g"},{"type":"e","value":"undefined"}]},"_parent":"~flowchart~_nodes~1~_procedure~3","_leftComponent":{"expression":"centroid","isAction":false}},{"_disabled":false,"_printToConsole":false,"children":[],"_type":"Data","_level":1,"hasChildren":false,"_error":false,"_leftComponent":{"expression":"min_dist","isAction":false},"_rightComponent":{"expression":"Infinity","isAction":false},"_parent":"~flowchart~_nodes~1~_procedure~3"},{"_disabled":false,"_printToConsole":false,"children":[{"_disabled":false,"_printToConsole":false,"children":[],"_type":"Action","_level":2,"hasChildren":false,"_error":false,"_rightComponent":{"expression":"Measure.distance","isAction":true,"module":"Measure","fn_name":"distance","params":[{"type":"t","value":"centroid"},{"type":"e","value":"p"},{"type":"n","value":"undefined"}]},"_parent":"~flowchart~_nodes~1~_procedure~3~children~2","_leftComponent":{"expression":"dist","isAction":false}},{"_disabled":false,"_printToConsole":false,"children":[{"_disabled":false,"_printToConsole":false,"children":[{"_disabled":false,"_printToConsole":false,"children":[],"_type":"Data","_level":4,"hasChildren":false,"_error":false,"_leftComponent":{"expression":"min_dist","isAction":false},"_rightComponent":{"expression":"dist","isAction":false},"_parent":"~flowchart~_nodes~1~_procedure~3~children~2~children~1~children~0"}],"_type":"If","_level":3,"hasChildren":true,"_error":false,"_leftComponent":{"expression":"dist < min_dist","isAction":false},"_parent":"~flowchart~_nodes~1~_procedure~3~children~2~children~1"},{"_disabled":false,"_printToConsole":false,"children":[],"_type":"Else","_level":3,"hasChildren":true,"_error":false,"_parent":"~flowchart~_nodes~1~_procedure~3~children~2~children~1"}],"_type":"IfElse","_level":2,"hasChildren":true,"_error":false,"virtual":true,"_parent":"~flowchart~_nodes~1~_procedure~3~children~2"}],"_type":"For Loop","_level":1,"hasChildren":true,"_error":false,"_leftComponent":{"expression":"p","isAction":false},"_rightComponent":{"expression":"park_list","isAction":false},"_parent":"~flowchart~_nodes~1~_procedure~3"},{"_disabled":false,"_printToConsole":false,"children":[],"_type":"Action","_level":1,"hasChildren":false,"_error":false,"_rightComponent":{"expression":"Meta.getCoords","isAction":true,"module":"Meta","fn_name":"getCoords","params":[{"type":"t","value":"g"}]},"_parent":"~flowchart~_nodes~1~_procedure~3","_leftComponent":{"expression":"coords","isAction":false}},{"_disabled":false,"_printToConsole":false,"children":[],"_type":"Action","_level":1,"hasChildren":false,"_error":false,"_rightComponent":{"expression":"Create.polygon","isAction":true,"module":"Create","fn_name":"polygon","params":[{"type":"t","value":"coords"},{"type":"n","value":"{dist2park:min_dist}"},{"type":"r","value":"undefined"}]},"_parent":"~flowchart~_nodes~1~_procedure~3","_leftComponent":{"expression":"poly","isAction":false}},{"_disabled":false,"_printToConsole":false,"children":[],"_type":"Action","_level":1,"hasChildren":false,"_error":false,"_rightComponent":{"expression":"List.append","isAction":true,"module":"List","fn_name":"append","params":[{"type":"list","value":"poly_list"},{"type":"item","value":"poly"}]},"_parent":"~flowchart~_nodes~1~_procedure~3","_leftComponent":{"expression":"poly_list","isAction":false}}],"_type":"For Loop","_level":0,"hasChildren":true,"_error":false,"_leftComponent":{"expression":"g","isAction":false},"_rightComponent":{"expression":"grid_list","isAction":false}},{"_disabled":false,"_printToConsole":false,"children":[],"_type":"Action","_level":0,"hasChildren":false,"_error":false,"_rightComponent":{"expression":"Create.featureCollection","isAction":true,"module":"Create","fn_name":"featureCollection","params":[{"type":"t","value":"poly_list"},{"type":"e","value":"undefined"}]},"_leftComponent":{"expression":"park_prox_grid","isAction":false}}],"_hasExecuted":false,"_isDisabled":false,"_hasError":false,"_dependencies":[],"_dependencyNodes":[],"position":[196.83333333333331,30.833333333333357],"_id":"09f1be32-13b2-62d9-ec30-9dead418be03","_name":"park_prox"}],"_edges":[{"output_address":"~flowchart~_nodes~1~_inputs~0~_computed~port","input_address":[1,0]}],"_globals":[{"_selected":false,"_disabled":false,"_connected":false,"_isFunction":false,"_id":"b2247bc5-10ed-7171-368a-5d9bcee67f35","_name":"base_map","_type":"Filepicker"},{"_selected":false,"_disabled":false,"_connected":false,"_isFunction":false,"_id":"9252bb00-fddf-2a6b-54f0-fbe44f4dae56","_name":"park_map","_type":"Filepicker"}],"name":"prox2park.mob","description":"This app divides the base_map input into 0.5km x 0.5km grids. Get the centroid of each grid and measures its proximity to the nearest park location as specified in the park_map input.","selectedNode":"09f1be32-13b2-62d9-ec30-9dead418be03"}}