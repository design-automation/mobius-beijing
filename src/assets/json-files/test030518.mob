{"language":"js","modules":[],"flowchart":{"_nodes":[{"portCounter":3,"inputPortCounter":0,"outputPortCounter":0,"_version":1,"_inputs":[{"_selected":false,"_disabled":false,"_connected":false,"_isFunction":false,"_id":"88b5091d-eddc-7650-9084-1ccf4e7ea427","_name":"base_map","opts":{"url":"raw.githubusercontent.com/chenkianwee/geojsonfiles/master/pln_area_gender_2016.geojson"},"_type":"URL"}],"_outputs":[{"_selected":false,"_disabled":false,"_connected":true,"_isFunction":false,"_id":"9a453508-4d9b-f1f8-5aa2-712a6b0750d5","_name":"base_grid","_type":"3"}],"_procedure":[{"_disabled":false,"_printToConsole":false,"children":[],"_type":"Data","_level":0,"hasChildren":false,"_error":false,"_leftComponent":{"expression":"features","isAction":false},"_rightComponent":{"expression":"base_map.features","isAction":false}},{"_disabled":false,"_printToConsole":false,"children":[],"_type":"Data","_level":0,"hasChildren":false,"_error":false,"_leftComponent":{"expression":"polygon_list","isAction":false},"_rightComponent":{"expression":"[]","isAction":false}},{"_disabled":false,"_printToConsole":false,"children":[{"_disabled":false,"_printToConsole":false,"children":[],"_type":"Action","_level":1,"hasChildren":false,"_error":false,"_rightComponent":{"expression":"geo_convert.flatten","isAction":true,"module":"geo_convert","fn_name":"flatten","params":[{"type":"t","value":"feature"}]},"_parent":"~flowchart~_nodes~0~_procedure~2","_leftComponent":{"expression":"flatten_obj","isAction":false}},{"_disabled":false,"_printToConsole":false,"children":[],"_type":"Data","_level":1,"hasChildren":false,"_error":false,"_leftComponent":{"expression":"flatten_list","isAction":false},"_rightComponent":{"expression":"flatten_obj.features","isAction":false},"_parent":"~flowchart~_nodes~0~_procedure~2"},{"_disabled":false,"_printToConsole":false,"children":[],"_type":"Action","_level":1,"hasChildren":false,"_error":false,"_rightComponent":{"expression":"arr_modify.concat","isAction":true,"module":"arr_modify","fn_name":"concat","params":[{"type":"array1","value":"polygon_list"},{"type":"array2","value":"flatten_list"}]},"_parent":"~flowchart~_nodes~0~_procedure~2","_leftComponent":{"expression":"polygon_list","isAction":false}}],"_type":"For Loop","_level":0,"hasChildren":true,"_error":false,"_leftComponent":{"expression":"feature","isAction":false},"_rightComponent":{"expression":"features","isAction":false}},{"_disabled":false,"_printToConsole":false,"children":[],"_type":"Data","_level":0,"hasChildren":false,"_error":false,"_leftComponent":{"expression":"grid_list","isAction":false},"_rightComponent":{"expression":"[]","isAction":false}},{"_disabled":false,"_printToConsole":false,"children":[{"_disabled":false,"_printToConsole":false,"children":[],"_type":"Action","_level":1,"hasChildren":false,"_error":false,"_rightComponent":{"expression":"geo_create.bbox","isAction":true,"module":"geo_create","fn_name":"bbox","params":[{"type":"t","value":"poly"}]},"_parent":"~flowchart~_nodes~0~_procedure~4","_leftComponent":{"expression":"bbox","isAction":false}},{"_disabled":false,"_printToConsole":false,"children":[],"_type":"Action","_level":1,"hasChildren":false,"_error":false,"_rightComponent":{"expression":"geo_grids.squareGrid","isAction":true,"module":"geo_grids","fn_name":"squareGrid","params":[{"type":"t","value":"bbox"},{"type":"e","value":"0.5"},{"type":"n","value":"undefined"}]},"_parent":"~flowchart~_nodes~0~_procedure~4","_leftComponent":{"expression":"grid_coll","isAction":false}},{"_disabled":false,"_printToConsole":false,"children":[],"_type":"Data","_level":1,"hasChildren":false,"_error":false,"_leftComponent":{"expression":"grids","isAction":false},"_rightComponent":{"expression":"grid_coll.features","isAction":false},"_parent":"~flowchart~_nodes~0~_procedure~4"},{"_disabled":false,"_printToConsole":false,"children":[{"_disabled":false,"_printToConsole":false,"children":[],"_type":"Action","_level":2,"hasChildren":false,"_error":false,"_rightComponent":{"expression":"geo_compare.within","isAction":true,"module":"geo_compare","fn_name":"within","params":[{"type":"t","value":"g"},{"type":"e","value":"poly"}]},"_parent":"~flowchart~_nodes~0~_procedure~4~children~3","_leftComponent":{"expression":"is_inside","isAction":false}},{"_disabled":false,"_printToConsole":false,"children":[],"_type":"Action","_level":2,"hasChildren":false,"_error":false,"_rightComponent":{"expression":"geo_compare.overlap","isAction":true,"module":"geo_compare","fn_name":"overlap","params":[{"type":"t","value":"g"},{"type":"e","value":"poly"}]},"_parent":"~flowchart~_nodes~0~_procedure~4~children~3","_leftComponent":{"expression":"overlap","isAction":false}},{"_disabled":false,"_printToConsole":false,"children":[{"_disabled":false,"_printToConsole":false,"children":[{"_disabled":false,"_printToConsole":false,"children":[],"_type":"Action","_level":4,"hasChildren":false,"_error":false,"_rightComponent":{"expression":"arr_modify.append","isAction":true,"module":"arr_modify","fn_name":"append","params":[{"type":"array","value":"grid_list"},{"type":"item","value":"g"}]},"_parent":"~flowchart~_nodes~0~_procedure~4~children~3~children~2~children~0","_leftComponent":{"expression":"grid_list","isAction":false}}],"_type":"If","_level":3,"hasChildren":true,"_error":false,"_leftComponent":{"expression":"overlap==true||is_inside==true","isAction":false},"_parent":"~flowchart~_nodes~0~_procedure~4~children~3~children~2"},{"_disabled":false,"_printToConsole":false,"children":[],"_type":"Else","_level":3,"hasChildren":true,"_error":false,"_parent":"~flowchart~_nodes~0~_procedure~4~children~3~children~2"}],"_type":"IfElse","_level":2,"hasChildren":true,"_error":false,"virtual":true,"_parent":"~flowchart~_nodes~0~_procedure~4~children~3"}],"_type":"For Loop","_level":1,"hasChildren":true,"_error":false,"_leftComponent":{"expression":"g","isAction":false},"_rightComponent":{"expression":"grids","isAction":false},"_parent":"~flowchart~_nodes~0~_procedure~4"}],"_type":"For Loop","_level":0,"hasChildren":true,"_error":false,"_leftComponent":{"expression":"poly","isAction":false},"_rightComponent":{"expression":"polygon_list","isAction":false}},{"_disabled":false,"_printToConsole":false,"children":[],"_type":"Action","_level":0,"hasChildren":false,"_error":false,"_rightComponent":{"expression":"arr_analyse.len","isAction":true,"module":"arr_analyse","fn_name":"len","params":[{"type":"array","value":"grid_list"}]},"_leftComponent":{"expression":"ngrids","isAction":false}},{"_disabled":false,"_printToConsole":false,"children":[],"_type":"Action","_level":0,"hasChildren":false,"_error":false,"_rightComponent":{"expression":"geo_create.fColl","isAction":true,"module":"geo_create","fn_name":"fColl","params":[{"type":"t","value":"grid_list"},{"type":"e","value":"undefined"}]},"_leftComponent":{"expression":"grid_coll","isAction":false}},{"_disabled":false,"_printToConsole":false,"children":[],"_type":"Data","_level":0,"hasChildren":false,"_error":false,"_leftComponent":{"expression":"base_grid","isAction":false},"_rightComponent":{"expression":"grid_coll","isAction":false}}],"_hasExecuted":false,"_isDisabled":false,"_hasError":false,"_dependencies":[],"_dependencyNodes":[],"position":[31,57.63636363636364],"_id":"4a69cbdf-157a-8236-ae24-0b422c9ced6a","_name":"grid_the_base"},{"portCounter":4,"inputPortCounter":0,"outputPortCounter":0,"_version":1,"_inputs":[{"_selected":false,"_disabled":false,"_connected":true,"_computed":{"port":[0,0]},"_isFunction":false,"_id":"4f537491-4c40-71aa-d854-87cedaf14046","_name":"grids","_type":"Input"},{"_selected":false,"_disabled":false,"_connected":false,"_isFunction":false,"_id":"45101c15-f105-a9b5-39d7-de8f86d0122e","_name":"parks","opts":{"url":"raw.githubusercontent.com/chenkianwee/geojsonfiles/master/parks.geojson"},"_type":"URL"}],"_outputs":[{"_selected":false,"_disabled":false,"_connected":false,"_isFunction":false,"_id":"06b54afc-02c3-1db1-a72b-9ffe726ae285","_name":"park_prox_grid","_type":"4"}],"_procedure":[{"_disabled":false,"_printToConsole":false,"children":[],"_type":"Data","_level":0,"hasChildren":false,"_error":false,"_leftComponent":{"expression":"grid_list","isAction":false},"_rightComponent":{"expression":"grids.features","isAction":false}},{"_disabled":false,"_printToConsole":false,"children":[],"_type":"Data","_level":0,"hasChildren":false,"_error":false,"_leftComponent":{"expression":"park_list","isAction":false},"_rightComponent":{"expression":"parks.features","isAction":false}},{"_disabled":false,"_printToConsole":false,"children":[],"_type":"Data","_level":0,"hasChildren":false,"_error":false,"_leftComponent":{"expression":"poly_list","isAction":false},"_rightComponent":{"expression":"[]","isAction":false}},{"_disabled":false,"_printToConsole":false,"children":[{"_disabled":false,"_printToConsole":false,"children":[],"_type":"Action","_level":1,"hasChildren":false,"_error":false,"_rightComponent":{"expression":"geo_calc.centroid","isAction":true,"module":"geo_calc","fn_name":"centroid","params":[{"type":"t","value":"g"},{"type":"e","value":"undefined"}]},"_parent":"~flowchart~_nodes~1~_procedure~3","_leftComponent":{"expression":"centroid","isAction":false}},{"_disabled":false,"_printToConsole":false,"children":[],"_type":"Data","_level":1,"hasChildren":false,"_error":false,"_leftComponent":{"expression":"min_dist","isAction":false},"_rightComponent":{"expression":"Infinity","isAction":false},"_parent":"~flowchart~_nodes~1~_procedure~3"},{"_disabled":false,"_printToConsole":false,"children":[{"_disabled":false,"_printToConsole":false,"children":[],"_type":"Action","_level":2,"hasChildren":false,"_error":false,"_rightComponent":{"expression":"geo_calc.distance","isAction":true,"module":"geo_calc","fn_name":"distance","params":[{"type":"t","value":"centroid"},{"type":"e","value":"p"},{"type":"n","value":"undefined"}]},"_parent":"~flowchart~_nodes~1~_procedure~3~children~2","_leftComponent":{"expression":"dist","isAction":false}},{"_disabled":false,"_printToConsole":false,"children":[{"_disabled":false,"_printToConsole":false,"children":[{"_disabled":false,"_printToConsole":false,"children":[],"_type":"Data","_level":4,"hasChildren":false,"_error":false,"_leftComponent":{"expression":"min_dist","isAction":false},"_rightComponent":{"expression":"dist","isAction":false},"_parent":"~flowchart~_nodes~1~_procedure~3~children~2~children~1~children~0"}],"_type":"If","_level":3,"hasChildren":true,"_error":false,"_leftComponent":{"expression":"dist < min_dist","isAction":false},"_parent":"~flowchart~_nodes~1~_procedure~3~children~2~children~1"},{"_disabled":false,"_printToConsole":false,"children":[],"_type":"Else","_level":3,"hasChildren":true,"_error":false,"_parent":"~flowchart~_nodes~1~_procedure~3~children~2~children~1"}],"_type":"IfElse","_level":2,"hasChildren":true,"_error":false,"virtual":true,"_parent":"~flowchart~_nodes~1~_procedure~3~children~2"}],"_type":"For Loop","_level":1,"hasChildren":true,"_error":false,"_leftComponent":{"expression":"p","isAction":false},"_rightComponent":{"expression":"park_list","isAction":false},"_parent":"~flowchart~_nodes~1~_procedure~3"},{"_disabled":false,"_printToConsole":false,"children":[],"_type":"Action","_level":1,"hasChildren":false,"_error":false,"_rightComponent":{"expression":"geo_coords.getFromFeature","isAction":true,"module":"geo_coords","fn_name":"getFromFeature","params":[{"type":"t","value":"g"}]},"_parent":"~flowchart~_nodes~1~_procedure~3","_leftComponent":{"expression":"coords","isAction":false}},{"_disabled":false,"_printToConsole":false,"children":[],"_type":"Action","_level":1,"hasChildren":false,"_error":false,"_rightComponent":{"expression":"geo_create.polygon","isAction":true,"module":"geo_create","fn_name":"polygon","params":[{"type":"t","value":"coords"},{"type":"n","value":"{dist2park:min_dist}"},{"type":"r","value":"undefined"}]},"_parent":"~flowchart~_nodes~1~_procedure~3","_leftComponent":{"expression":"poly","isAction":false}},{"_disabled":false,"_printToConsole":false,"children":[],"_type":"Action","_level":1,"hasChildren":false,"_error":false,"_rightComponent":{"expression":"arr_modify.append","isAction":true,"module":"arr_modify","fn_name":"append","params":[{"type":"array","value":"poly_list"},{"type":"item","value":"poly"}]},"_parent":"~flowchart~_nodes~1~_procedure~3","_leftComponent":{"expression":"poly_list","isAction":false}}],"_type":"For Loop","_level":0,"hasChildren":true,"_error":false,"_leftComponent":{"expression":"g","isAction":false},"_rightComponent":{"expression":"grid_list","isAction":false}},{"_disabled":false,"_printToConsole":false,"children":[],"_type":"Action","_level":0,"hasChildren":false,"_error":false,"_rightComponent":{"expression":"geo_create.fColl","isAction":true,"module":"geo_create","fn_name":"fColl","params":[{"type":"t","value":"poly_list"},{"type":"e","value":"undefined"}]},"_leftComponent":{"expression":"park_prox_grid","isAction":false}}],"_hasExecuted":false,"_isDisabled":false,"_hasError":false,"_dependencies":[],"_dependencyNodes":[],"position":[161.5,39.50000000000002],"_id":"09f1be32-13b2-62d9-ec30-9dead418be03","_name":"park_prox"}],"_edges":[{"output_address":"~flowchart~_nodes~1~_inputs~0~_computed~port","input_address":[1,0]}],"_globals":[],"name":"1524726065374.mob","description":"Lorem ipsum proident nisi dolor ut minim in in non consectetur ut ut.","selectedNode":"09f1be32-13b2-62d9-ec30-9dead418be03"}}